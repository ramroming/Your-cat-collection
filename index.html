<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reem's Cat Collection</title>

  <!-- Poppins font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#cfe9ff; --ink:#2d4379; --muted:#4c6ba6;
      --card:#ffffff; --sep:#b4c7e7; --accent:#7f95ff;
    }
    *{box-sizing:border-box}
    body {
	  margin: 0;
	  font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
	  background: linear-gradient(to bottom, #8ec5fc 0%, #f9f586 100%);
	  color: var(--ink);
	  min-height: 100vh;
	}
	  
    .page{max-width:1100px;margin:24px auto;padding:0 16px}
    .two-col{display:flex;border-radius:16px;overflow:hidden;box-shadow:0 6px 22px rgba(0,0,0,.08);background:#fff}

    /* Sticky left column */
    .sidebar{
      width:320px;padding:24px;background:#ffffffcc;
      position:sticky; top:20px; align-self:flex-start; height:fit-content;
    }
    .sidebar h1{margin:0 0 8px;font-size:1.5rem;font-weight:600}
    .sidebar p{margin:0;color:var(--muted);line-height:1.6}

    .separator{width:1px;background:var(--sep)}

    /* Right column */
    .main{flex:1;padding:24px;background:var(--card)}
    .main h1{margin:0 0 4px;font-weight:600}
    .tagline{margin:0 0 20px;color:var(--muted);font-style:italic}

    /* Slideshow (no crop, adaptive height) */
    .slideshow-wrap{max-width:720px;margin:0 auto}
    .slideshow-container{
      position:relative;border-radius:16px;overflow:hidden;
      box-shadow:0 4px 16px rgba(0,0,0,.18);background:#eef5ff;
    }
    .slide{display:none;width:100%}
    .slide img{display:block;width:100%;height:auto;object-fit:contain;object-position:center;background:#eef5ff}

    .fade{animation:fade 1.2s ease-in-out}
    @keyframes fade{from{opacity:.4}to{opacity:1}}

    .dots{display:flex;gap:8px;justify-content:center;margin:12px 0 0}
    .dot{width:10px;height:10px;border-radius:50%;background:#cfd8ff;opacity:.7;cursor:pointer}
    .dot.active{opacity:1;background:var(--accent)}

    /* Prev/Next controls */
    .nav-btn{
      position:absolute; top:50%; transform:translateY(-50%);
      background:rgba(0,0,0,.45); color:#fff; border:none;
      width:42px; height:42px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer; transition:opacity .2s ease; opacity:.9;
    }
    .nav-btn:hover{opacity:1}
    .nav-btn:focus{outline:2px solid #fff; outline-offset:2px}
    .prev{left:10px}
    .next{right:10px}

    /* Uploader */
    .uploader{max-width:720px;margin:20px auto 0;background:#fbfdff;border:1px dashed var(--sep);
      border-radius:14px;padding:16px}
    .uploader h2{margin:0 0 10px;font-size:1.05rem;font-weight:600}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .dropzone{
      flex:1;min-width:260px;padding:14px;
      border:2px dashed var(--sep);border-radius:12px;
      text-align:center;color:#6476a1;background:#ffffff;transition:all .3s ease;
    }
    .dropzone.drag{background:#eef4ff;border-color:var(--accent)}
    .form-line{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:12px}
	   .footer-controls {
	  display: flex;
	  flex-direction: column;       /* stack checkbox above button */
	  align-items: stretch;         /* make the button full width */
	  gap: 10px;
	  margin-top: 20px;
	  padding-top: 12px;
	  border-top: 1px solid var(--sep);
	}

	.footer-controls label {
	  display: flex;
	  align-items: center;
	  gap: 8px;
	  font-size: 0.95rem;
	  color: var(--muted);
	  justify-content: left;
	}

	.footer-controls .btn {
	  width: 100%;
	  padding: 14px;
	  font-weight: 600;
	  font-size: 1rem;
	  border-radius: 12px;
	  background: var(--accent);
	  color: white;
	  cursor: pointer;
	  transition: background 0.2s ease;
	}

	.footer-controls .btn:hover {
	  background: #6884ff;
	}

    .btn{
      border:0;border-radius:10px;padding:10px 16px;font-weight:600;
	  font-family:"poppins";
      background:var(--accent);color:#fff;cursor:pointer
    }
    .btn[disabled]{opacity:.5;cursor:not-allowed}
    .note{font-size:.9rem;color:var(--muted)}

    @media (max-width:820px){
      .two-col{flex-direction:column}
      .sidebar,.main{width:100%;position:static;height:auto}
      .separator{height:1px;width:100%}
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="two-col">
      <!-- Left column (sticky) -->
      <aside class="sidebar">
        <h1>About this</h1>
		<h4>My name is Reeeem</h4>
        <p>I love cars, they are the best. What I love mostly about them is that they are purrfect</p>
		<i>Property of: Reem Madison</i>
      </aside>

      <div class="separator"></div>

      <!-- Right column -->
      <main class="main">
        <h1>Welcome to Reem's Cat Collection</h1>
        <p class="tagline">mostly stolen from Mai üòº</p>

        <div class="slideshow-wrap">
          <div class="slideshow-container" id="slideshow" aria-live="polite">
            <!-- Your existing images -->
            <div class="slide fade"><img src="image (1).jpeg" alt="Cat 1"></div>
            <div class="slide fade"><img src="image (2).jpeg" alt="Cat 2"></div>
            <div class="slide fade"><img src="image (3).jpeg" alt="Cat 3"></div>
            <div class="slide fade"><img src="image (4).jpeg" alt="Cat 4"></div>
            <div class="slide fade"><img src="H√¨nh ·∫£nh Ghim c√¢u chuy·ªán.jpeg" alt="Cat 5"></div>
            <div class="slide fade"><img src="H√¨nh ·∫£nh Ghim c√¢u chuy·ªán (1).png" alt="Cat 6"></div>
            <div class="slide fade"><img src="H√¨nh ·∫£nh Ghim c√¢u chuy·ªán.png" alt="Cat 7"></div>
            <div class="slide fade"><img src="image.jpeg" alt="Cat 8"></div>
            <div class="slide fade"><img src="image (1).png" alt="Cat 9"></div>

            <!-- Prev / Next controls -->
            <button class="nav-btn prev" id="prevBtn" aria-label="Previous slide" title="Previous (‚Üê)">‚Äπ</button>
            <button class="nav-btn next" id="nextBtn" aria-label="Next slide" title="Next (‚Üí)">‚Ä∫</button>
          </div>
          <div class="dots" id="dots" aria-label="Slideshow indicators"></div>
        </div>

        <!-- Add-your-cat form -->
        <section class="uploader" aria-labelledby="uploader-title">
          <h2 id="uploader-title">Add your cat photo</h2>

          <div class="row">
            <div id="dropzone" class="dropzone" tabindex="0">
              Drag & drop image here<br/>or click ‚ÄúChoose file‚Äù
            </div>
          </div>

          <div class="form-line">
            <label for="file">Choose file:</label>
            <input id="file" type="file" accept="image/*" multiple />
          </div>

          <!-- bottom footer with button + checkbox together -->
        <div class="footer-controls">
		  <label>
			<input type="checkbox" id="persist" />
			Save added photos to this browser
		  </label>

		  <button class="btn" id="addBtn" disabled>Add to slideshow</button>
		</div>


          <p class="note" style="margin-top:8px">Photos are processed locally in your browser (no upload to a server).</p>
        </section>
      </main>
    </div>
  </div>

  <script>
    /* ---------- Slideshow with controls ---------- */
    let index = 0, timer = null;
    const slides = () => document.getElementsByClassName("slide");
    const dotsWrap = document.getElementById("dots");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    function ensureDots(){
      const count = slides().length;
      while (dotsWrap.children.length < count){
        const d = document.createElement("span");
        d.className = "dot";
        const i = dotsWrap.children.length;
        d.addEventListener("click", ()=>goTo(i));
        dotsWrap.appendChild(d);
      }
    }
    function setActive(n){
      [...slides()].forEach(s=>s.style.display="none");
      [...dotsWrap.children].forEach(d=>d.classList.remove("active"));
      slides()[n].style.display = "block";
      dotsWrap.children[n]?.classList.add("active");
    }
    function goTo(n){
      index = (n + slides().length) % slides().length;
      setActive(index);
      resetAutoplay();
    }
    function next(){ goTo(index + 1); }
    function prev(){ goTo(index - 1); }

    function resetAutoplay(){
      if (timer) clearInterval(timer);
      timer = setInterval(next, 3000);
    }

    // keyboard support
    document.addEventListener("keydown", (e)=>{
      if (e.key === "ArrowRight") next();
      if (e.key === "ArrowLeft")  prev();
    });
    prevBtn.addEventListener("click", prev);
    nextBtn.addEventListener("click", next);

    ensureDots(); setActive(0); resetAutoplay();

    /* ---------- Add-your-cat (client-side) ---------- */
    function addSlideFromSrc(src, alt="User cat"){
      const container = document.getElementById("slideshow");
      const d = document.createElement("div");
      d.className = "slide fade";
      const img = document.createElement("img");
      img.src = src; img.alt = alt;
      d.appendChild(img);
      container.insertBefore(d, container.firstChild); // add to start
      ensureDots();
      goTo(0); // show newest
    }

    const STORAGE_KEY = "reemCats";
    // restore persisted images
    (function restore(){
      try{
        const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
        saved.forEach(src => addSlideFromSrc(src, "Saved cat"));
      }catch(_){}
    })();

    const fileInput = document.getElementById("file");
    const addBtn = document.getElementById("addBtn");
    const dropzone = document.getElementById("dropzone");
    let selected = [];

    function enable(){ addBtn.disabled = selected.length === 0; }

    fileInput.addEventListener("change", e=>{
      selected = [...e.target.files];
      enable();
    });

    ["dragenter","dragover"].forEach(ev=>{
      dropzone.addEventListener(ev, e=>{
        e.preventDefault(); e.stopPropagation();
        dropzone.classList.add("drag");
      });
    });
    ["dragleave","drop"].forEach(ev=>{
      dropzone.addEventListener(ev, e=>{
        e.preventDefault(); e.stopPropagation();
        if (ev==="drop"){
          const items = e.dataTransfer.files;
          selected = [...items].filter(f=>f.type.startsWith("image/"));
          fileInput.files = items;
          enable();
        }
        dropzone.classList.remove("drag");
      });
    });
    dropzone.addEventListener("click", ()=> fileInput.click());

    function fileToDataURL(file){
      return new Promise((res,rej)=>{
        const fr = new FileReader();
        fr.onload = ()=>res(fr.result);
        fr.onerror = rej;
        fr.readAsDataURL(file);
      });
    }

    addBtn.addEventListener("click", async ()=>{
      const persist = document.getElementById("persist").checked;
      const toSave = [];
      for (const f of selected){
        try{
          const dataUrl = await fileToDataURL(f);
          addSlideFromSrc(dataUrl, f.name);
          if (persist) toSave.push(dataUrl);
        }catch(e){ console.error(e); }
      }
      if (toSave.length){
        try{
          const existing = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
          localStorage.setItem(STORAGE_KEY, JSON.stringify(existing.concat(toSave)));
        }catch(e){ alert("Could not save all images (storage may be full)."); }
      }
      selected = []; fileInput.value = ""; enable();
    });


  // ---- Cloudinary config (fill these) ----
  const CLOUD_NAME = "dedvwwfip";
  const UPLOAD_PRESET = "reems-cat-collection"; // from step 1
  const CLOUDINARY_URL = `https://api.cloudinary.com/v1_1/${dedvwwfip}/image/upload`;

  // Upload a single File object to Cloudinary (unsigned)
  async function uploadToCloudinary(file) {
    const fd = new FormData();
    fd.append("file", file);
    fd.append("upload_preset", UPLOAD_PRESET);
    // Optional: keep uploads organized in a folder
    // fd.append("folder", "reem-cats");

    const res = await fetch(CLOUDINARY_URL, { method: "POST", body: fd });
    if (!res.ok) throw new Error("Upload failed");
    return res.json(); // -> { secure_url, public_id, ... }
  }

  // Hook into your existing UI
  const fileInput = document.getElementById("file");
  const addBtn = document.getElementById("addBtn");

  // OPTIONAL: enable/disable button when files selected
  fileInput.addEventListener("change", () => {
    addBtn.disabled = !(fileInput.files && fileInput.files.length);
  });

  // Replace your existing addBtn click handler with this:
  addBtn.addEventListener("click", async () => {
    if (!fileInput.files || !fileInput.files.length) return;

    addBtn.disabled = true; 
    addBtn.textContent = "Uploading‚Ä¶";

    const uploadedURLs = [];
    for (const file of fileInput.files) {
      try {
        const result = await uploadToCloudinary(file);
        // Show it immediately in the slideshow
        addSlideFromSrc(result.secure_url, file.name);
        uploadedURLs.push(result.secure_url);
      } catch (e) {
        console.error(e);
        alert("Upload failed for: " + file.name);
      }
    }

    // Optional: remember hosted URLs locally
    if (uploadedURLs.length) {
      const key = "reemCatsURLs";
      const existing = JSON.parse(localStorage.getItem(key) || "[]");
      localStorage.setItem(key, JSON.stringify(existing.concat(uploadedURLs)));
    }

    // Reset UI
    fileInput.value = "";
    addBtn.textContent = "Add to slideshow";
    addBtn.disabled = true;
  });
  </script>
	
</body>
</html>




